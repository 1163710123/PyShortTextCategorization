#!/usr/bin/env python

# argument parsing
import argparse

def getargparser():
    parser = argparse.ArgumentParser(description='Find the similarity between two short sentences using Word2Vec.')
    parser.add_argument('word2vec_modelpath', help='Path of the Word2Vec model')
    return parser

parser = getargparser()
args = parser.parse_args()

import shorttext
from shorttext.metrics.embedfuzzy import jaccardscore_sents
from shorttext.utils import tokenize


if __name__ == '__main__':
    wvmodel = shorttext.utils.load_word2vec_model(args.word2vec_modelpath) if args.word2vec_modelpath!=None else None
    end = False
    # preload tokenizer
    tokenize('Mogu is cute.')
    while not end:
        sent1 = raw_input('sent1> ')
        if len(sent1)==0:
            end = True
        else:
            sent2 = raw_input('sent2> ')
            print "Word2Vec Jaccard Score Similarity = ", jaccardscore_sents(sent1, sent2, wvmodel)